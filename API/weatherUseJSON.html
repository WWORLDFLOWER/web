<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台鐵車站出入口基本資料</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
</head>
<body>
    <button id="loadButton">load data</button>
    <p id="result"></p>

    <script>
        $(document).ready(function(){
            $.ajax({
                url: '../XML_JSON_CSV/O-A0001-001.json',
                dataType: 'json',
                success(res){
                    // console.log(res);
                    // console.log(res.records);
                    // console.log(res.records.location);
                    // console.log(res.records.location[0]);
                    // console.log(res.records.location[0].lat);
                    // console.log(res.records.location[0].lon);
                    // console.log(res.records.location[0].locationName);
                    // console.log(res.records.location[0].time.obsTime);
                    // console.log(res.records.location[0].weatherElement[3].elementValue);

                    for(let i = 0; i < res.records.location.length; i++){
                        let latitude = res.records.location[i].lat
                        let longitude = res.records.location[i].lon
                        let locationName = res.records.location[i].locationName
                        let time = res.records.location[i].time.obsTime
                        let tempture = res.records.location[i].weatherElement[3].elementValue

                        $('#result').append(`
                            <div>
                                <h3>觀測站: ${locationName}</h3>
                                <p>座標: ${latitude} | ${locationName}</p>
                                <p>觀測時間: ${time}</p>
                                <p>溫度: ${tempture}</p>
                                <hr>
                            </div>
                        `)
                    }


                },
            })

            /*=========
            $.ajax({
                url: '',  // 要呼叫的網址或檔案
                type: ,   // GET 或 POST
                data: ,   // 傳送到 Server 端的資料 
                dataType: ,   // 預期 Server 端會回傳的資料型態，xml | html | script | json | jsonp | text(csv 或 tsv)
                success(res){},
                error(err){},
                complete(){},
            })
            ==========*/
        })
    </script>
</body>
</html>